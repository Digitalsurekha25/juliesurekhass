<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Om Namo European Roulette Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="roulette-wheel-display" style="width: 320px; height: 320px; margin: 0 auto;">
        <svg viewBox="0 0 400 400" id="roulette-wheel-svg">
            <defs>
                <path id="pocket-path" d="M -18.5 -48.5 A 52 52 0 0 1 18.5 -48.5 L 18.5 0 A 52 52 0 0 0 -18.5 0 Z"></path>
                <!-- A simpler wedge: M 0 0 L -18.5 -48.5 A 52 52 0 0 1 18.5 -48.5 Z -->
            </defs>
            <circle cx="200" cy="200" r="190" fill="#333" stroke="gray" stroke-width="2"/>
            <circle cx="200" cy="200" r="150" fill="#555" stroke="gray" stroke-width="1"/>
            <g id="pockets-group" transform="translate(200,200)">
                <!-- Pockets will be generated by JS or manually placed if JS generation is too complex for one step -->
            </g>
            <circle cx="200" cy="200" r="30" fill="#444" stroke="silver" stroke-width="3"/>
        </svg>
    </div>

    <!-- SVG for the betting table will be embedded or linked here -->
    <div id="roulette-table-display">
        <!-- Placeholder for the betting table -->
    </div>

    <div id="controls-area">
        <div>
            <label for="winning-number-input">Enter Winning Number (0-36):</label>
            <input type="number" id="winning-number-input" min="0" max="36">
            <button id="add-result-button">Add Result</button>
        </div>
        <div>
            <label for="current-dealer-input" style="margin-right: 5px;">Current Dealer:</label>
            <input type="text" id="current-dealer-input" value="Dealer 1" style="margin-right: 10px;">
            <button id="reset-data-button">Reset All Data</button>
        </div>
        <div>
            <label for="dealer-filter-select" style="margin-right: 5px;">Filter by Dealer:</label>
            <select id="dealer-filter-select" style="margin-right: 10px;">
                <option value="all">All Dealers</option>
                <!-- JS will populate other options -->
            </select>
            <label>Analyze Last N Results:</label>
            <input type="radio" name="range_filter" value="3" id="range_3"> <label for="range_3">3</label>
            <input type="radio" name="range_filter" value="5" id="range_5"> <label for="range_5">5</label>
            <input type="radio" name="range_filter" value="10" id="range_10" checked> <label for="range_10">10</label>
            <input type="radio" name="range_filter" value="15" id="range_15"> <label for="range_15">15</label>
            <input type="radio" name="range_filter" value="20" id="range_20"> <label for="range_20">20</label>
            <input type="radio" name="range_filter" value="all" id="range_all"> <label for="range_all">All</label>
        </div>
        <div>
            <label for="neighbour-center-number">Center Number (0-36):</label>
            <input type="number" id="neighbour-center-number" min="0" max="36" value="0">
            <label for="neighbour-count">Neighbours (1-5):</label>
            <input type="number" id="neighbour-count" min="1" max="5" value="2">
        </div>
    </div>

    <div id="custom-sets-area" style="padding: 10px; border: 1px solid #ccc; margin-top:15px;"> <!-- Changed class to style attribute for now -->
        <h4>Custom Number Sets</h4>
        <div>
            <label for="custom-set-name">Set Name:</label>
            <input type="text" id="custom-set-name" placeholder="e.g., My Hot Numbers" style="margin-bottom: 5px;">
        </div>
        <div>
            <label for="custom-set-numbers">Numbers (comma-separated, 0-36):</label>
            <input type="text" id="custom-set-numbers" placeholder="e.g., 1,5,10,15,20,25" style="width: 70%; margin-bottom: 5px;">
        </div>
        <button id="save-custom-set-button">Save Custom Set</button>
        <div id="custom-set-feedback" style="margin-top: 5px; font-style: italic;"></div>

        <div id="saved-custom-sets-display" class="analysis-section" style="margin-top: 15px;">
            <h5>Saved Sets Analysis</h5>
            <div id="saved-custom-sets-content">
                <!-- JS will populate this -->
            </div>
        </div>
    </div>

    <div id="results-history-display">
        <h3>Entered Results:</h3>
        <ul id="results-list"></ul>
    </div>

    <div id="history-panel-section" class="main-section-container" style="margin-top: 20px; padding: 10px; border: 1px solid #bbb;">
        <h3>Full Results History</h3>
        <div id="history-panel-controls">
            <!-- (Currently respects global dealer filter, no new filters here yet) -->
        </div>
        <div id="history-panel-content" style="max-height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-top:5px; background-color: #fdfdfd;">
            <!-- JS will populate this with a list or table -->
        </div>
    </div>

    <div id="analysis-display">
        <!-- Placeholder for displaying analysis results and statistics -->
        <div id="voisins-analysis" class="analysis-section">
            <h4>Voisins du Zéro Analysis</h4>
            <p>Count: <span id="voisins-count">0</span></p>
            <p>Percentage: <span id="voisins-percentage">0.00</span>%</p>
            <p>Hit Numbers: <span id="voisins-hit-numbers">None</span></p>
        </div>
        <div id="tiers-analysis" class="analysis-section">
            <h4>Tiers du Cylindre Analysis</h4>
            <p>Count: <span id="tiers-count">0</span></p>
            <p>Percentage: <span id="tiers-percentage">0.00</span>%</p>
            <p>Hit Numbers: <span id="tiers-hit-numbers">None</span></p>
        </div>
        <div id="orphelins-analysis" class="analysis-section">
            <h4>Orphelins Analysis</h4>
            <p>Count: <span id="orphelins-count">0</span></p>
            <p>Percentage: <span id="orphelins-percentage">0.00</span>%</p>
            <p>Hit Numbers: <span id="orphelins-hit-numbers">None</span></p>
        </div>
        <div id="zero-spiel-analysis" class="analysis-section">
            <h4>Zero Spiel Analysis</h4>
            <p>Count: <span id="zero-spiel-count">0</span></p>
            <p>Percentage: <span id="zero-spiel-percentage">0.00</span>%</p>
            <p>Hit Numbers: <span id="zero-spiel-hit-numbers">None</span></p>
        </div>
        <div id="dozens-analysis" class="analysis-section">
            <h4>Dozens Analysis</h4>
            <p>1st Dozen (1-12): Count: <span id="first-dozen-count">0</span>, Percentage: <span id="first-dozen-percentage">0.00</span>%</p>
            <p>2nd Dozen (13-24): Count: <span id="second-dozen-count">0</span>, Percentage: <span id="second-dozen-percentage">0.00</span>%</p>
            <p>3rd Dozen (25-36): Count: <span id="third-dozen-count">0</span>, Percentage: <span id="third-dozen-percentage">0.00</span>%</p>
        </div>
        <div id="columns-analysis" class="analysis-section">
            <h4>Columns Analysis</h4>
            <p>Column 1: Count: <span id="col1-count">0</span>, Percentage: <span id="col1-percentage">0.00</span>%</p>
            <p>Column 2: Count: <span id="col2-count">0</span>, Percentage: <span id="col2-percentage">0.00</span>%</p>
            <p>Column 3: Count: <span id="col3-count">0</span>, Percentage: <span id="col3-percentage">0.00</span>%</p>
        </div>
        <div id="rows-analysis" class="analysis-section">
            <h4>Rows Analysis (Horizontal)</h4>
            <div id="rows-analysis-content">
                <!-- JS will populate this area -->
            </div>
        </div>
        <div id="diagonals-analysis" class="analysis-section">
            <h4>Diagonals Analysis</h4>
            <div id="diagonals-analysis-content">
                <!-- JS will populate this area -->
            </div>
        </div>
        <div id="quadrants-analysis" class="analysis-section">
            <h4>Quadrants Analysis</h4>
            <p>Q1 (1-9): Count: <span id="q1-count">0</span>, Percentage: <span id="q1-percentage">0.00</span>%</p>
            <p>Q2 (10-18): Count: <span id="q2-count">0</span>, Percentage: <span id="q2-percentage">0.00</span>%</p>
            <p>Q3 (19-27): Count: <span id="q3-count">0</span>, Percentage: <span id="q3-percentage">0.00</span>%</p>
            <p>Q4 (28-36): Count: <span id="q4-count">0</span>, Percentage: <span id="q4-percentage">0.00</span>%</p>
        </div>
        <div id="neighbour-bet-analysis" class="analysis-section">
            <h4>Neighbour Bet Analysis</h4>
            <p>Current Bet: <span id="neighbour-bet-numbers">N/A</span></p>
            <p>Count: <span id="neighbour-bet-count">0</span></p>
            <p>Percentage: <span id="neighbour-bet-percentage">0.00</span>%</p>
        </div>
        <div id="finales-analysis" class="analysis-section">
            <h4>Finales Analysis</h4>
            <div id="finales-analysis-content">
                <!-- JS will populate this area -->
            </div>
        </div>
        <div id="finales-a-cheval-analysis" class="analysis-section">
            <h4>Finales à Cheval Analysis</h4>
            <div id="finales-a-cheval-analysis-content">
                <!-- JS will populate this area -->
            </div>
        </div>
        <div id="number-frequency-analysis" class="analysis-section">
            <h4>Number Frequency Analysis</h4>
            <div id="number-frequency-table-content" style="max-height: 200px; overflow-y: auto; margin-bottom: 10px;">
                <!-- JS will populate this with table/list of frequencies -->
            </div>
            <h5>Frequency Bar Chart</h5>
            <div id="number-frequency-chart-content" style="display: flex; align-items: flex-end; height: 200px; border: 1px solid #ccc; overflow-x: auto; padding: 5px; background-color: #f9f9f9;">
                <!-- JS will populate this with bars -->
            </div>
        </div>
        <div id="hot-cold-analysis" class="analysis-section">
            <h4>Hot & Cold Numbers (Top 5)</h4>
            <div><strong>Hot:</strong> <span id="hot-numbers-display">N/A</span></div>
            <div><strong>Cold:</strong> <span id="cold-numbers-display">N/A</span></div>
        </div>
        <div id="repeat-patterns-analysis" class="analysis-section">
            <h4>Repeat Patterns</h4>
            <div id="repeat-patterns-content">
                <!-- JS will populate this -->
            </div>
        </div>
        <div id="ball-landing-gaps-analysis" class="analysis-section">
            <h4>Ball Landing Gaps</h4>
            <p>Recent Gaps (Last 10): <span id="recent-gaps-display">N/A</span></p>
            <!-- Optional: Placeholder for gap frequency display later -->
            <!-- <div id="gap-frequency-display"></div> -->
        </div>
        <div id="direction-pattern-analysis" class="analysis-section">
            <h4>Direction Pattern Analysis (Based on All Gaps)</h4>
            <p>Clockwise Jumps: Count: <span id="clockwise-gaps-count">0</span>, Pct: <span id="clockwise-gaps-percentage">0.00</span>%</p>
            <p>Anti-Clockwise Jumps: Count: <span id="anti-clockwise-gaps-count">0</span>, Pct: <span id="anti-clockwise-gaps-percentage">0.00</span>%</p>
            <p>Same Number Hits (0 Gap): Count: <span id="same-number-gaps-count">0</span>, Pct: <span id="same-number-gaps-percentage">0.00</span>%</p>
            <p>Total Gaps Analyzed: <span id="total-gaps-analyzed">0</span></p>
        </div>
        <div id="wheel-sextants-analysis" class="analysis-section">
            <h4>Broad Wheel Sector Analysis (Sextants)</h4>
            <div id="wheel-sextants-content">
                <!-- JS will populate this with list of sextant frequencies -->
            </div>
        </div>
        <div id="digit-sum-analysis" class="analysis-section">
            <h4>Digit Sum Group Analysis</h4>
            <div id="digit-sum-content">
                <!-- JS will populate this -->
            </div>
        </div>
        <div id="sum-influence-analysis" class="analysis-section">
            <h4>Sum of Recent Results & Next Hit's Groups</h4>
            <p id="sum2-next-display">Sum of last 2: N/A</p>
            <p id="sum3-next-display">Sum of last 3: N/A</p>
        </div>
        <div id="sector-influence-analysis" class="analysis-section">
            <h4>Sector Influence Analysis</h4>
            <p id="sector-influence-display">N/A (Not enough results)</p>
        </div>
        <div id="cluster-prediction-analysis" class="analysis-section">
            <h4>Statistical Cluster Spotlight (Dozens & Columns)</h4>
            <p style="font-size:0.8em; font-style:italic; margin-bottom:5px;">Note: Identifies Dozens/Columns hitting significantly above average in the current view.</p>
            <div id="hot-dozens-prediction" style="margin-bottom:3px;">Hot Dozens (Trending): N/A</div>
            <div id="hot-columns-prediction">Hot Columns (Trending): N/A</div>
        </div>
        <div id="group-pattern-alerts-analysis" class="analysis-section">
            <h4>Group Pattern Alerts (3 Consecutive)</h4>
            <div id="group-pattern-alerts-content">
                <!-- JS will populate this -->
            </div>
        </div>
        <div id="basic-properties-analysis" class="analysis-section">
            <h4>Basic Properties Analysis</h4>
            <p>Red: Count: <span id="red-count">0</span>, Pct: <span id="red-percentage">0.00</span>%</p>
            <p>Black: Count: <span id="black-count">0</span>, Pct: <span id="black-percentage">0.00</span>%</p>
            <p>Even: Count: <span id="even-count">0</span>, Pct: <span id="even-percentage">0.00</span>%</p>
            <p>Odd: Count: <span id="odd-count">0</span>, Pct: <span id="odd-percentage">0.00</span>%</p>
            <p>Low (1-18): Count: <span id="low-count">0</span>, Pct: <span id="low-percentage">0.00</span>%</p>
            <p>High (19-36): Count: <span id="high-count">0</span>, Pct: <span id="high-percentage">0.00</span>%</p>
            <p>Zero (0): Count: <span id="zero-count">0</span></p>
        </div>
        <div id="streaks-flips-analysis" class="analysis-section">
            <h4>Streaks & Flips (Red/Black)</h4>
            <p>Ongoing Streak: <span id="ongoing-streak-display">N/A</span></p>
            <p>Last Flip: <span id="last-flip-display">N/A</span></p>
            <p>Longest Red Streak: <span id="longest-red-streak-display">N/A</span></p>
            <p>Longest Black Streak: <span id="longest-black-streak-display">N/A</span></p>
            <hr>
            <h5>Even/Odd Streaks</h5>
            <p>Ongoing Streak: <span id="ongoing-eo-streak-display">N/A</span></p>
            <p>Last Flip: <span id="last-eo-flip-display">N/A</span></p>
            <p>Longest Even Streak: <span id="longest-even-streak-display">N/A</span></p>
            <p>Longest Odd Streak: <span id="longest-odd-streak-display">N/A</span></p>
            <hr>
            <h5>High/Low Streaks</h5>
            <p>Ongoing Streak: <span id="ongoing-hl-streak-display">N/A</span></p>
            <p>Last Flip: <span id="last-hl-flip-display">N/A</span></p>
            <p>Longest High Streak: <span id="longest-high-streak-display">N/A</span></p>
            <p>Longest Low Streak: <span id="longest-low-streak-display">N/A</span></p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
